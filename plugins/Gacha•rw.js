// - David-Chian >> https://github.com/David-Chian

const _0x2015f9=_0x1376;function _0x1376(_0x6ea721,_0x55ab86){const _0x503678=_0x5036();return _0x1376=function(_0x1376de,_0x143b9f){_0x1376de=_0x1376de-0x1ec;let _0x5944bb=_0x503678[_0x1376de];return _0x5944bb;},_0x1376(_0x6ea721,_0x55ab86);}(function(_0x1e41da,_0x264c2c){const _0x26c67c=_0x1376,_0x11b9bd=_0x1e41da();while(!![]){try{const _0x18cc3d=parseInt(_0x26c67c(0x214))/0x1+parseInt(_0x26c67c(0x1ef))/0x2*(-parseInt(_0x26c67c(0x1fe))/0x3)+parseInt(_0x26c67c(0x222))/0x4*(-parseInt(_0x26c67c(0x1ed))/0x5)+parseInt(_0x26c67c(0x223))/0x6+-parseInt(_0x26c67c(0x1f1))/0x7+parseInt(_0x26c67c(0x205))/0x8+parseInt(_0x26c67c(0x1ec))/0x9;if(_0x18cc3d===_0x264c2c)break;else _0x11b9bd['push'](_0x11b9bd['shift']());}catch(_0x14f846){_0x11b9bd['push'](_0x11b9bd['shift']());}}}(_0x5036,0x29634));import _0xe476c3 from'fs';import{v4 as _0x2bc0a4}from'uuid';import _0x2d9500 from'node-fetch';function _0x5036(){const _0x55f6a0=['gacha','length','floor','15OpwrJW','Reservado\x20por\x20','stringify','Error\x20al\x20leer\x20data.json:','userId','command','roll','252560JOJQdP','\x20minutos\x20','url','parse','data.json','Libre','jid','personajesReservados','values','readFileSync','value','sender','find','*\x20de\x20nuevo.','❀\x20Nombre\x20»\x20*','134666lIRSzh','=͟͟͞𝐘𝐚𝐞𝐦𝐨𝐫𝐢\x20𝐁𝐨𝐭⏤͟͟͞͞★','help','Error\x20al\x20leer\x20characters.json:','https://qu.ax/Qyawv.jpg','✧\x20ROLL\x20-\x20WAIFU\x20✧','name','some','https://raw.githubusercontent.com/David-Chian/Megumin-Bot-MD/main/lib/characters.json','Error\x20en\x20el\x20handler:','*‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‍‌‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‍‌‌\x0a✰\x20Valor\x20»\x20*','✧\x20Debes\x20esperar\x20*','chat','utf-8','699116wcFNsX','503274OcjJkC','sendMessage','error','4238694zVdyQg','5AZrkFV','json','25318BPCXOg','Ocupado\x20por\x20','2194381HbdvnO','usuarios','chats','✐\x20Error.','*\x0a✐\x20Id\x20»\x20*','rollwaifu','✐\x20Todas\x20las\x20waifus\x20ya\x20fueron\x20reclamadas.','random','image/jpeg','filter'];_0x5036=function(){return _0x55f6a0;};return _0x5036();}const completadoImage=_0x2015f9(0x218),obtenerDatos=()=>{const _0x6a2ba0=_0x2015f9;try{return _0xe476c3['existsSync'](_0x6a2ba0(0x209))?JSON[_0x6a2ba0(0x208)](_0xe476c3[_0x6a2ba0(0x20e)](_0x6a2ba0(0x209),_0x6a2ba0(0x221))):{'chats':{}};}catch(_0x3cbc94){return console['error'](_0x6a2ba0(0x201),_0x3cbc94),{'chats':{}};}},guardarDatos=_0x7909b6=>{const _0x520106=_0x2015f9;try{_0xe476c3['writeFileSync'](_0x520106(0x209),JSON[_0x520106(0x200)](_0x7909b6,null,0x2));}catch(_0x2bc444){console[_0x520106(0x225)]('Error\x20al\x20escribir\x20en\x20data.json:',_0x2bc444);}},obtenerPersonajes=async()=>{const _0x425b2d=_0x2015f9;try{const _0x218df4=await _0x2d9500(_0x425b2d(0x21c));return await _0x218df4[_0x425b2d(0x1ee)]();}catch(_0x327b82){return console[_0x425b2d(0x225)](_0x425b2d(0x217),_0x327b82),[];}};let cooldowns={},handler=async(_0x1f976d,{conn:_0x3331d3,command:_0xf3595e,usedPrefix:_0x4d90fb})=>{const _0x5f1898=_0x2015f9;try{let _0x47c56b=obtenerDatos(),_0x30f236=_0x1f976d[_0x5f1898(0x220)],_0x2d651a=_0x1f976d[_0x5f1898(0x210)],_0x5e50e7=new Date()['getTime'](),_0x5f2e15=0xa*0x3c*0x3e8,_0x2f6555=cooldowns[_0x2d651a]||0x0,_0x2d2467=_0x5e50e7-_0x2f6555;if(_0x2d2467<_0x5f2e15){let _0x14afc2=_0x5f2e15-_0x2d2467,_0x204a10=Math[_0x5f1898(0x1fd)](_0x14afc2/(0x3e8*0x3c)),_0x17ff49=Math['floor'](_0x14afc2%(0x3e8*0x3c)/0x3e8),_0x28d1e1=_0x5f1898(0x21f)+_0x204a10+_0x5f1898(0x206)+_0x17ff49+'\x20segundos*\x20para\x20usar\x20*'+(_0x4d90fb+_0xf3595e)+_0x5f1898(0x212);await _0x3331d3[_0x5f1898(0x224)](_0x1f976d[_0x5f1898(0x220)],{'text':_0x28d1e1});return;}const _0x405348=(_0x1348f5,_0x1d2270,_0x1bf02e)=>{const _0x1fc4bf=_0x5f1898;let _0x5b1096=obtenerDatos();!_0x5b1096[_0x1fc4bf(0x1f3)][_0x1348f5]&&(_0x5b1096[_0x1fc4bf(0x1f3)][_0x1348f5]={'usuarios':{},'personajesReservados':[]}),_0x5b1096[_0x1fc4bf(0x1f3)][_0x1348f5][_0x1fc4bf(0x20c)]['push']({'userId':_0x1d2270,..._0x1bf02e}),guardarDatos(_0x5b1096);},_0x2d99ea=async _0x38a77d=>{const _0x557bc5=_0x5f1898;let _0x5d1e77=await obtenerPersonajes(),_0x4fc866=_0x5d1e77[_0x557bc5(0x1fa)](_0x1b0454=>{const _0x462f03=_0x557bc5;let _0x549d3a=_0x47c56b[_0x462f03(0x1f3)][_0x38a77d]?.['personajesReservados'][_0x462f03(0x21b)](_0x802faa=>_0x802faa[_0x462f03(0x207)]===_0x1b0454[_0x462f03(0x207)]),_0x1d72a9=Object[_0x462f03(0x20d)](_0x47c56b['chats'][_0x38a77d]?.['usuarios']||{})[_0x462f03(0x21b)](_0x5096ef=>_0x5096ef['characters'][_0x462f03(0x21b)](_0x2eccb5=>_0x2eccb5[_0x462f03(0x207)]===_0x1b0454[_0x462f03(0x207)]));return!_0x549d3a&&!_0x1d72a9;});return _0x4fc866;};let _0x9509ef=await _0x2d99ea(_0x30f236);if(_0x9509ef[_0x5f1898(0x1fc)]===0x0){await _0x3331d3[_0x5f1898(0x224)](_0x1f976d[_0x5f1898(0x220)],{'image':{'url':completadoImage},'caption':_0x5f1898(0x1f7)});return;}const _0x5aa040=_0x9509ef[Math[_0x5f1898(0x1fd)](Math[_0x5f1898(0x1f8)]()*_0x9509ef[_0x5f1898(0x1fc)])],_0x40a317=_0x2bc0a4();let _0x4b125d=_0x47c56b[_0x5f1898(0x1f3)][_0x30f236]?.[_0x5f1898(0x20c)][_0x5f1898(0x211)](_0x38d547=>_0x38d547[_0x5f1898(0x207)]===_0x5aa040[_0x5f1898(0x207)]),_0x1a365b=Object['entries'](_0x47c56b[_0x5f1898(0x1f3)][_0x30f236]?.[_0x5f1898(0x1f2)]||{})[_0x5f1898(0x211)](([_0x93f7ad,_0x5ed81a])=>_0x5ed81a['characters']['some'](_0x583ea0=>_0x583ea0['url']===_0x5aa040['url'])),_0x5ea319;if(_0x1a365b)_0x5ea319=_0x5f1898(0x1f0)+_0x1a365b[0x1][_0x5f1898(0x21a)];else _0x4b125d?_0x5ea319=_0x5f1898(0x1ff)+_0x4b125d[_0x5f1898(0x202)]:_0x5ea319=_0x5f1898(0x20a);const _0x296a1d=_0x5f1898(0x213)+_0x5aa040['name']+_0x5f1898(0x21e)+_0x5aa040[_0x5f1898(0x20f)]+'*\x0a♡\x20Estado\x20»\x20*'+_0x5ea319+_0x5f1898(0x1f5)+_0x40a317+'*';await _0x3331d3[_0x5f1898(0x224)](_0x1f976d[_0x5f1898(0x220)],{'image':{'url':_0x5aa040[_0x5f1898(0x207)]},'caption':_0x296a1d,'mimetype':_0x5f1898(0x1f9),'contextInfo':{'mentionedJid':_0x1a365b?[_0x1a365b[0x1][_0x5f1898(0x20b)]]:[],'externalAdReply':{'showAdAttribution':!![],'title':_0x5f1898(0x219),'body':_0x5f1898(0x215),'thumbnailUrl':_0x5aa040[_0x5f1898(0x207)],'sourceUrl':redes,'previewType':'PHOTO','mediaType':0x1,'renderLargerThumbnail':![]}}}),!_0x1a365b&&_0x405348(_0x30f236,_0x2d651a,{..._0x5aa040,'id':_0x40a317}),cooldowns[_0x2d651a]=_0x5e50e7;}catch(_0x182ce4){console['error'](_0x5f1898(0x21d),_0x182ce4),await _0x3331d3['sendMessage'](_0x1f976d[_0x5f1898(0x220)],{'text':_0x5f1898(0x1f4)});}};handler[_0x2015f9(0x216)]=['rw'],handler['tags']=[_0x2015f9(0x1fb)],handler[_0x2015f9(0x203)]=[_0x2015f9(0x204),_0x2015f9(0x1f6),'rw'],handler['register']=!![];export default handler;